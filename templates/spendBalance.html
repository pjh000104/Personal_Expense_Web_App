<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/Spend.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="https://fonts.googleapis.com/css2?family=Concert+One&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../main/js/Jquery.js"></script>
    <link rel="icon" href="./img/logo.png" sizes="32x32">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Expense Tracker</title>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark animate__slideInDown animate__animated ">
        <a class="navbar-brand" href="#">
            <img class="ms-3" src="{{ url_for('static', filename='images/logo.png') }}" width="70" height="40" alt="Logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav ">
                <li class="nav-item">
                    <a class="nav-link   fs-5 me-5" href="{{ url_for('add_balance') }}">Reset</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fs-5  me-5" href="{{ url_for('about') }}">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fs-5  me-5" href="{{ url_for('checkBalance') }}">Check Balance</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fs-5  active me-5" href="{{ url_for('spend_balance_page') }}">Spend Balance</a>
                </li>
            </ul>
        </div>
    </nav>
    <!--End nav-->
    <!--Spend content -->
    <section class="over-h">
        <div class="contianer over-h">
            <div class="row mt-5 pt-5 over-h ">
                <div class="col-md-6 text-center">
                    <div class="mb-2">
                        <form class="text-center" action="/spend/food" method="post" id="foodForm">
                            <label class="bg-white-30  mb- px-3 py-1 rounded-3 mb-4" for="inputSpend">Food: ${{ balances.food }}</label>
                            <div class="d-flex justify-content-center">
                                <input id="inputSpend" name="food" class="form-control w-50 text-center shadow-lg" oninput="validatePositiveInput(this)" placeholder="10000">
                            </div>
                            <button type="submit" class="submit btn btn-primary mt-4">Spend</button>
                        </form>
                    </div>
                </div>
                <div class="col-md-6 text-center">
                    <div class="mb-2 " >
                        <form class="text-center  " action="/spend/house_hold" method="post">
                                <label  class="bg-white-30  mb-  px-3 py-1 rounded-3 mb-4" for="input1">
                                    Household Items / Supplies: ${{ balances.house_hold }}
                                </label>
                                <div class="d-flex justify-content-center">
                                    <input id="inputSpend" name="house_hold" class="form-control w-50 text-center shadow-lg" id="input1" oninput="validatePositiveInput(this)" placeholder="10000">
                                </div>
                                <button type="submit" class="btn submit btn-primary mt-4 submit">Spend</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row mt-5 pt-5 over-h">
                <div class="col-md-6 text-center">
                    <div class="mb-2 " >
                        <form class="text-center  " action="/spend/clothing" method="post">
                                <label  class="bg-white-30  mb-  px-3 py-1 rounded-3 mb-4" for="input1">Clothing: ${{ balances.clothing }}</label>
                                <div class="d-flex justify-content-center">
                                    <input id="inputSpend" name="clothing" class="form-control w-50 text-center shadow-lg" id="input1" oninput="validatePositiveInput(this)" placeholder="10000">
                                </div>
                                <button type="submit" class="btn btn-primary mt-4 submit">Spend</button>
                        </form>
                    </div>
                </div>
                <div class="col-md-6 text-center">
                    <div class="mb-2 " >
                        <form class="text-center  " action="/spend/personal_expense" method="post">
                                <label  class="bg-white-30  mb-  px-3 py-1 rounded-3 mb-4" for="input1">Personal Expenses: ${{ balances.personal_expense }}</label>
                                <div class="d-flex justify-content-center">
                                    <input id="inputSpend" name="personal_expense" class="form-control w-50 text-center shadow-lg" id="input1" oninput="validatePositiveInput(this)" placeholder="10000">
                                </div>
                                <button type="submit" class="btn btn-primary mt-4 submit">Spend</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row mt-5 pt-5 over-h">
                <div class="col-md-6 text-center">
                    <div class="mb-2 " >
                        <form class="text-center  " action="/spend/subscription" method="post">
                                <label  class="bg-white-30  mb-  px-3 py-1 rounded-3 mb-4" for="input1">Subscription: ${{ balances.subscription }}</label>
                                <div class="d-flex justify-content-center">
                                    <input id="inputSpend" name="subscription" class="form-control w-50 text-center shadow-lg" id="input1" oninput="validatePositiveInput(this)" placeholder="10000">
                                </div>
                                <button type="submit" class="btn btn-primary mt-4 submit">Spend</button>
                        </form>
                    </div>
                </div>
                <div class="col-md-6 text-center">
                    <div class="mb-2 " balances
                        <form class="text-center  " action="/spend/housing_expense">
                                <label  class="bg-white-30  mb-  px-3 py-1 rounded-3 mb-4" for="input1">Household Expenses: ${{ balances.food }} </label>
                                <div class="d-flex justify-content-center">
                                    <input id="inputSpend" name="food" class="form-control w-50 text-center shadow-lg" id="input1" oninput="validatePositiveInput(this)" placeholder="10000">
                                </div>
                                <button type="submit" class="btn btn-primary mt-4 submit">Spend</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row over-h  mt-5 pt-5 mb-5 ">
                <div class="col-md-12 text-center">
                    <div class="mb-2 " >
                        <form class="text-center  " action="/spend/insurance">
                                <label  class="bg-white-30  mb-  px-3 py-1 rounded-3 mb-4" for="input1">Insurance: ${{ balances.insurance }}</label>
                                <div class="d-flex justify-content-center">
                                    <input id="inputSpend" name="food" class="form-control w-50 text-center shadow-lg" id="input1" oninput="validatePositiveInput(this)" placeholder="10000">
                                </div>
                                <button type="submit" class="btn btn-primary mt-4 submit">Spend</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end Spend content -->
</body>
<script>
    function validatePositiveInput(input) {
        // Remove any non-numeric characters and limit it to positive values
        // input.value = input.value.replace(/[^0-9.]/g, '');
        input.value = input.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');


        // Ensure it doesn't start with a decimal point or zero if it's meant to be a positive integer
        // if (input.value.startsWith('.')) {
        //     input.value = '';
        // }
        if (input.value && parseFloat(input.value) < 0) {
            input.value = '';
        }
    }
</script>